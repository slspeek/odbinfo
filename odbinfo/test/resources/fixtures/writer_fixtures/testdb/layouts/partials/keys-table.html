<table class="table table-bordered">
  <thead >
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Columns</th>
      <th>Referenced table</th>
      <th>Update rule</th>
      <th>Delete rule</th>
    </tr>
  </thead>
  <tbody>
    {{ $all_tables := where .Site.Pages "Section" "tables"}}
    {{ range .Params.keys }}
    <tr>
      <td>{{ .name }}</td>
      <td>{{ .typename }}</td>
      <td>{{ partial "commalist" .columns }}</td>
      <td>
      {{ if not (eq .referenced_table "") }}
        {{ $tables := where $all_tables "Params.name" .referenced_table }}
        {{ $reftable := index $tables 0 }}
        <a href="{{$reftable.URL}}">{{.referenced_table}}({{ partial "commalist" .relatedcolumns }})</a>
      {{end}}
      </td>
      <td>{{ .update_rule }}</td>
      <td>{{ .delete_rule }}</td>
    </tr>
    {{ end}}
  </tbody>
  </table>
